{"version":3,"file":"js/997.4054318e.js","mappings":"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","sources":["webpack://vue-practice-app/./src/views/Request.vue","webpack://vue-practice-app/./src/views/Request.vue?7836"],"sourcesContent":["<template>\n  <app-loader v-if=\"loading\"></app-loader>\n  <app-page back title=\"Заявка\" v-else-if=\"request\">\n    <p><strong>Имя владельца</strong>: {{ request.fio }}</p>\n    <p><strong>Телефон</strong>: {{ request.phone }}</p>\n    <p><strong>Сумма</strong>: {{ currency(request.amount) }}</p>\n    <p><strong>Статус</strong>: <app-status :type=\"request.status\" /></p>\n\n    <div class=\"form-control\">\n      <label for=\"status\">Статус</label>\n      <select id=\"status\" v-model=\"status\">\n        <option value=\"done\">Завершен</option>\n        <option value=\"cancelled\">Отменен</option>\n        <option value=\"active\">Активен</option>\n        <option value=\"pending\">Выполняется</option>\n      </select>\n    </div>\n\n    <button class=\"btn danger\" @click=\"remove\">Удалить</button>\n    <button class=\"btn\" @click=\"update\" v-if=\"hasChanges\">Обновить</button>\n  </app-page>\n  <h3 v-else class=\"text-center text-white\">\n    Заявки с ID = {{ $route.params.id }} нет.\n  </h3>\n</template>\n\n<script>\nimport {ref, onMounted, computed} from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport AppPage from '../components/ui/AppPage.vue'\nimport AppLoader from '../components/ui/AppLoader.vue'\nimport AppStatus from '../components/ui/AppStatus.vue'\nimport { useStore } from 'vuex'\nimport { currency } from '../utils/currency'\n\nexport default {\n  setup() {\n    const route = useRoute()\n    const store = useStore()\n    const status = ref()\n    const loading = ref(true)\n    const request = ref({})\n    const router = useRouter()\n\n    const hasChanges = computed(() => request.value.status !== status.value)\n\n    onMounted(async () => {\n      request.value = await store.dispatch('request/loadById', route.params.id)\n      status.value = request.value?.status\n      loading.value = false\n    })\n\n    const remove = async () => {\n      await store.dispatch('request/remove', route.params.id)\n      router.push('/')\n    }\n\n    const update = async () => {\n      const data = {...request.value, status: status.value, id: route.params.id}\n      await store.dispatch('request/update', data)\n      request.value.status = status.value\n    }\n\n    return {\n      loading,\n      request,\n      currency,\n      remove,\n      update,\n      status,\n      hasChanges\n    }\n  },\n  components: {AppPage, AppLoader, AppStatus}\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./Request.vue?vue&type=template&id=e88546b2\"\nimport script from \"./Request.vue?vue&type=script&lang=js\"\nexport * from \"./Request.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","$setup","loading","_createBlock","_component_app_loader","request","_component_app_page","back","title","_withCtx","_createElementVNode","_createTextVNode","_toDisplayString","fio","phone","currency","amount","_createVNode","_component_app_status","type","status","_hoisted_1","for","id","_cache","$event","value","onClick","remove","apply","arguments","hasChanges","_createElementBlock","update","_createCommentVNode","_","_hoisted_2","_ctx","$route","params","setup","route","useRoute","store","useStore","ref","router","useRouter","computed","onMounted","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_request$value","wrap","_context","prev","next","dispatch","sent","stop","_ref2","_callee2","_context2","push","_ref3","_callee3","data","_context3","_objectSpread","components","AppPage","AppLoader","AppStatus","__exports__","render"],"sourceRoot":""}